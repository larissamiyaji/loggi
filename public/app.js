let map, heatmap;

function initMap() {
  map = new google.maps.Map(document.getElementById("map"), {
    zoom: 13,
    center: { lat: -23.5489, lng: -46.6388 },
    mapTypeId: "satellite",
  });
  heatmap = new google.maps.visualization.HeatmapLayer({
    data: getPoints(),
    map: map,
  });
}

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  const gradient = [
    "rgba(0, 255, 255, 0)",
    "rgba(0, 255, 255, 1)",
    "rgba(0, 191, 255, 1)",
    "rgba(0, 127, 255, 1)",
    "rgba(0, 63, 255, 1)",
    "rgba(0, 0, 255, 1)",
    "rgba(0, 0, 223, 1)",
    "rgba(0, 0, 191, 1)",
    "rgba(0, 0, 159, 1)",
    "rgba(0, 0, 127, 1)",
    "rgba(63, 0, 91, 1)",
    "rgba(127, 0, 63, 1)",
    "rgba(191, 0, 31, 1)",
    "rgba(255, 0, 0, 1)",
  ];
  heatmap.set("gradient", heatmap.get("gradient") ? null : gradient);
}

function changeRadius() {
  heatmap.set("radius", heatmap.get("radius") ? null : 20);
}

function changeOpacity() {
  heatmap.set("opacity", heatmap.get("opacity") ? null : 0.2);
}

function getPoints() {
  return [
    {
      "data": {
        "closestDrivers": {
          "driversCount": 200,
          "readyDriversCount": 113,
          "busyDriversCount": 87,
          "drivers": [
            {
              "lng": -46.64950180053711,
              "lat": -23.551982879638672,
              "busy": false
            },
            {
              "lng": -46.60487747192383,
              "lat": -23.633411407470703,
              "busy": false
            },
            {
              "lng": -46.65531539916992,
              "lat": -23.573787689208984,
              "busy": false
            },
            {
              "lng": -46.68876647949219,
              "lat": -23.49291229248047,
              "busy": true
            },
            {
              "lng": -46.693756103515625,
              "lat": -23.531648635864258,
              "busy": false
            },
            {
              "lng": -46.59846115112305,
              "lat": -23.562196731567383,
              "busy": false
            },
            {
              "lng": -46.57249450683594,
              "lat": -23.575284957885742,
              "busy": false
            },
            {
              "lng": -46.69546127319336,
              "lat": -23.571636199951172,
              "busy": false
            },
            {
              "lng": -46.6623420715332,
              "lat": -23.534940719604492,
              "busy": true
            },
            {
              "lng": -46.71394348144531,
              "lat": -23.553476333618164,
              "busy": true
            },
            {
              "lng": -46.67475891113281,
              "lat": -23.527217864990234,
              "busy": false
            },
            {
              "lng": -46.661373138427734,
              "lat": -23.641450881958008,
              "busy": false
            },
            {
              "lng": -46.66841125488281,
              "lat": -23.614839553833008,
              "busy": false
            },
            {
              "lng": -46.66309356689453,
              "lat": -23.55470848083496,
              "busy": true
            },
            {
              "lng": -46.65095520019531,
              "lat": -23.566625595092773,
              "busy": true
            },
            {
              "lng": -46.577125549316406,
              "lat": -23.600797653198242,
              "busy": false
            },
            {
              "lng": -46.69852066040039,
              "lat": -23.559720993041992,
              "busy": true
            },
            {
              "lng": -46.64476776123047,
              "lat": -23.597206115722656,
              "busy": false
            },
            {
              "lng": -46.55672836303711,
              "lat": -23.618026733398438,
              "busy": false
            },
            {
              "lng": -46.61469268798828,
              "lat": -23.448596954345703,
              "busy": false
            },
            {
              "lng": -46.674922943115234,
              "lat": -23.617210388183594,
              "busy": true
            },
            {
              "lng": -46.63022994995117,
              "lat": -23.5524845123291,
              "busy": false
            },
            {
              "lng": -46.66331481933594,
              "lat": -23.57749366760254,
              "busy": true
            },
            {
              "lng": -46.62565231323242,
              "lat": -23.561616897583008,
              "busy": true
            },
            {
              "lng": -46.64175796508789,
              "lat": -23.54087257385254,
              "busy": true
            },
            {
              "lng": -46.685462951660156,
              "lat": -23.579397201538086,
              "busy": false
            },
            {
              "lng": -46.649051666259766,
              "lat": -23.54534339904785,
              "busy": false
            },
            {
              "lng": -46.626625061035156,
              "lat": -23.533950805664062,
              "busy": true
            },
            {
              "lng": -46.64908218383789,
              "lat": -23.5949649810791,
              "busy": false
            },
            {
              "lng": -46.70402526855469,
              "lat": -23.513200759887695,
              "busy": false
            },
            {
              "lng": -46.668670654296875,
              "lat": -23.575260162353516,
              "busy": true
            },
            {
              "lng": -46.59135818481445,
              "lat": -23.545507431030273,
              "busy": false
            },
            {
              "lng": -46.6552619934082,
              "lat": -23.568721771240234,
              "busy": true
            },
            {
              "lng": -46.65281677246094,
              "lat": -23.517738342285156,
              "busy": false
            },
            {
              "lng": -46.56192398071289,
              "lat": -23.54146385192871,
              "busy": false
            },
            {
              "lng": -46.62545394897461,
              "lat": -23.530149459838867,
              "busy": true
            },
            {
              "lng": -46.674320220947266,
              "lat": -23.586471557617188,
              "busy": true
            },
            {
              "lng": -46.643150329589844,
              "lat": -23.573598861694336,
              "busy": true
            },
            {
              "lng": -46.59091567993164,
              "lat": -23.563058853149414,
              "busy": false
            },
            {
              "lng": -46.675506591796875,
              "lat": -23.60630226135254,
              "busy": false
            },
            {
              "lng": -46.58247756958008,
              "lat": -23.648441314697266,
              "busy": false
            },
            {
              "lng": -46.72692108154297,
              "lat": -23.513355255126953,
              "busy": false
            },
            {
              "lng": -46.60422897338867,
              "lat": -23.604095458984375,
              "busy": false
            },
            {
              "lng": -46.679527282714844,
              "lat": -23.538373947143555,
              "busy": false
            },
            {
              "lng": -46.671051025390625,
              "lat": -23.503623962402344,
              "busy": false
            },
            {
              "lng": -46.61881637573242,
              "lat": -23.549026489257812,
              "busy": false
            },
            {
              "lng": -46.627532958984375,
              "lat": -23.63332176208496,
              "busy": false
            },
            {
              "lng": -46.575050354003906,
              "lat": -23.541810989379883,
              "busy": false
            },
            {
              "lng": -46.692710876464844,
              "lat": -23.554292678833008,
              "busy": false
            },
            {
              "lng": -46.698341369628906,
              "lat": -23.54022789001465,
              "busy": true
            },
            {
              "lng": -46.60585021972656,
              "lat": -23.49703598022461,
              "busy": false
            },
            {
              "lng": -46.63736343383789,
              "lat": -23.637039184570312,
              "busy": false
            },
            {
              "lng": -46.63469696044922,
              "lat": -23.63564682006836,
              "busy": true
            },
            {
              "lng": -46.58827209472656,
              "lat": -23.56765365600586,
              "busy": false
            },
            {
              "lng": -46.568241119384766,
              "lat": -23.54599380493164,
              "busy": false
            },
            {
              "lng": -46.64923095703125,
              "lat": -23.599090576171875,
              "busy": true
            },
            {
              "lng": -46.64992141723633,
              "lat": -23.5424747467041,
              "busy": false
            },
            {
              "lng": -46.589927673339844,
              "lat": -23.519033432006836,
              "busy": false
            },
            {
              "lng": -46.6217041015625,
              "lat": -23.51991844177246,
              "busy": true
            },
            {
              "lng": -46.57857131958008,
              "lat": -23.529827117919922,
              "busy": false
            },
            {
              "lng": -46.62743377685547,
              "lat": -23.491981506347656,
              "busy": true
            },
            {
              "lng": -46.69649124145508,
              "lat": -23.610553741455078,
              "busy": false
            },
            {
              "lng": -46.647789001464844,
              "lat": -23.577880859375,
              "busy": false
            },
            {
              "lng": -46.57777786254883,
              "lat": -23.48564338684082,
              "busy": false
            },
            {
              "lng": -46.679832458496094,
              "lat": -23.597322463989258,
              "busy": false
            },
            {
              "lng": -46.68827438354492,
              "lat": -23.612966537475586,
              "busy": true
            },
            {
              "lng": -46.66133117675781,
              "lat": -23.49140739440918,
              "busy": false
            },
            {
              "lng": -46.69237518310547,
              "lat": -23.552692413330078,
              "busy": false
            },
            {
              "lng": -46.679805755615234,
              "lat": -23.652982711791992,
              "busy": false
            },
            {
              "lng": -46.54267120361328,
              "lat": -23.539844512939453,
              "busy": true
            },
            {
              "lng": -46.63925552368164,
              "lat": -23.610668182373047,
              "busy": false
            },
            {
              "lng": -46.732032775878906,
              "lat": -23.597482681274414,
              "busy": true
            },
            {
              "lng": -46.66807174682617,
              "lat": -23.613174438476562,
              "busy": false
            },
            {
              "lng": -46.6059684753418,
              "lat": -23.478790283203125,
              "busy": false
            },
            {
              "lng": -46.612945556640625,
              "lat": -23.560518264770508,
              "busy": false
            },
            {
              "lng": -46.636871337890625,
              "lat": -23.551122665405273,
              "busy": true
            },
            {
              "lng": -46.64756393432617,
              "lat": -23.577484130859375,
              "busy": false
            },
            {
              "lng": -46.674713134765625,
              "lat": -23.53061294555664,
              "busy": true
            },
            {
              "lng": -46.65055847167969,
              "lat": -23.56675148010254,
              "busy": true
            },
            {
              "lng": -46.649234771728516,
              "lat": -23.59203338623047,
              "busy": false
            },
            {
              "lng": -46.682518005371094,
              "lat": -23.584043502807617,
              "busy": false
            },
            {
              "lng": -46.65336608886719,
              "lat": -23.549711227416992,
              "busy": false
            },
            {
              "lng": -46.68724060058594,
              "lat": -23.57029914855957,
              "busy": true
            },
            {
              "lng": -46.66740798950195,
              "lat": -23.51905059814453,
              "busy": false
            },
            {
              "lng": -46.66189956665039,
              "lat": -23.598661422729492,
              "busy": true
            },
            {
              "lng": -46.604469299316406,
              "lat": -23.556604385375977,
              "busy": true
            },
            {
              "lng": -46.55793380737305,
              "lat": -23.534887313842773,
              "busy": false
            },
            {
              "lng": -46.689849853515625,
              "lat": -23.560474395751953,
              "busy": false
            },
            {
              "lng": -46.644168853759766,
              "lat": -23.63033676147461,
              "busy": true
            },
            {
              "lng": -46.68452072143555,
              "lat": -23.58099937438965,
              "busy": true
            },
            {
              "lng": -46.71017074584961,
              "lat": -23.553905487060547,
              "busy": true
            },
            {
              "lng": -46.66319274902344,
              "lat": -23.55593490600586,
              "busy": true
            },
            {
              "lng": -46.657997131347656,
              "lat": -23.610185623168945,
              "busy": false
            },
            {
              "lng": -46.60607147216797,
              "lat": -23.478961944580078,
              "busy": true
            },
            {
              "lng": -46.59355163574219,
              "lat": -23.56306266784668,
              "busy": false
            },
            {
              "lng": -46.620391845703125,
              "lat": -23.535886764526367,
              "busy": true
            },
            {
              "lng": -46.68397903442383,
              "lat": -23.55399513244629,
              "busy": true
            },
            {
              "lng": -46.6314811706543,
              "lat": -23.478496551513672,
              "busy": false
            },
            {
              "lng": -46.66156768798828,
              "lat": -23.61737060546875,
              "busy": true
            },
            {
              "lng": -46.6060905456543,
              "lat": -23.478927612304688,
              "busy": true
            },
            {
              "lng": -46.73545455932617,
              "lat": -23.630718231201172,
              "busy": false
            },
            {
              "lng": -46.68059539794922,
              "lat": -23.585250854492188,
              "busy": false
            },
            {
              "lng": -46.64204788208008,
              "lat": -23.54021453857422,
              "busy": false
            },
            {
              "lng": -46.648075103759766,
              "lat": -23.550813674926758,
              "busy": true
            },
            {
              "lng": -46.6371955871582,
              "lat": -23.637157440185547,
              "busy": false
            },
            {
              "lng": -46.54166030883789,
              "lat": -23.609580993652344,
              "busy": false
            },
            {
              "lng": -46.55674743652344,
              "lat": -23.581844329833984,
              "busy": false
            },
            {
              "lng": -46.6276969909668,
              "lat": -23.58441162109375,
              "busy": false
            },
            {
              "lng": -46.672176361083984,
              "lat": -23.61899757385254,
              "busy": true
            },
            {
              "lng": -46.698638916015625,
              "lat": -23.559646606445312,
              "busy": true
            },
            {
              "lng": -46.55240249633789,
              "lat": -23.524118423461914,
              "busy": false
            },
            {
              "lng": -46.65470504760742,
              "lat": -23.562063217163086,
              "busy": false
            },
            {
              "lng": -46.59303283691406,
              "lat": -23.617326736450195,
              "busy": true
            },
            {
              "lng": -46.67095947265625,
              "lat": -23.503698348999023,
              "busy": true
            },
            {
              "lng": -46.68145751953125,
              "lat": -23.562498092651367,
              "busy": true
            },
            {
              "lng": -46.70359420776367,
              "lat": -23.563430786132812,
              "busy": true
            },
            {
              "lng": -46.68408203125,
              "lat": -23.53899574279785,
              "busy": true
            },
            {
              "lng": -46.692256927490234,
              "lat": -23.603845596313477,
              "busy": false
            },
            {
              "lng": -46.589019775390625,
              "lat": -23.456920623779297,
              "busy": false
            },
            {
              "lng": -46.68552017211914,
              "lat": -23.56242561340332,
              "busy": true
            },
            {
              "lng": -46.706790924072266,
              "lat": -23.522043228149414,
              "busy": true
            },
            {
              "lng": -46.676841735839844,
              "lat": -23.55009651184082,
              "busy": true
            },
            {
              "lng": -46.7235107421875,
              "lat": -23.620153427124023,
              "busy": false
            },
            {
              "lng": -46.63670349121094,
              "lat": -23.601547241210938,
              "busy": true
            },
            {
              "lng": -46.564571380615234,
              "lat": -23.55296516418457,
              "busy": true
            },
            {
              "lng": -46.539215087890625,
              "lat": -23.533212661743164,
              "busy": false
            },
            {
              "lng": -46.718414306640625,
              "lat": -23.584741592407227,
              "busy": true
            },
            {
              "lng": -46.68867492675781,
              "lat": -23.594650268554688,
              "busy": false
            },
            {
              "lng": -46.629600524902344,
              "lat": -23.56014633178711,
              "busy": false
            },
            {
              "lng": -46.69404602050781,
              "lat": -23.58258628845215,
              "busy": true
            },
            {
              "lng": -46.654605865478516,
              "lat": -23.54667091369629,
              "busy": false
            },
            {
              "lng": -46.60639953613281,
              "lat": -23.595691680908203,
              "busy": true
            },
            {
              "lng": -46.58988571166992,
              "lat": -23.651029586791992,
              "busy": false
            },
            {
              "lng": -46.67592239379883,
              "lat": -23.50372314453125,
              "busy": true
            },
            {
              "lng": -46.61067199707031,
              "lat": -23.56431770324707,
              "busy": true
            },
            {
              "lng": -46.57026290893555,
              "lat": -23.563575744628906,
              "busy": true
            },
            {
              "lng": -46.576297760009766,
              "lat": -23.552934646606445,
              "busy": true
            },
            {
              "lng": -46.61220169067383,
              "lat": -23.639541625976562,
              "busy": false
            },
            {
              "lng": -46.67867660522461,
              "lat": -23.58052635192871,
              "busy": true
            },
            {
              "lng": -46.624961853027344,
              "lat": -23.508535385131836,
              "busy": true
            },
            {
              "lng": -46.56174087524414,
              "lat": -23.563095092773438,
              "busy": true
            },
            {
              "lng": -46.60308074951172,
              "lat": -23.490446090698242,
              "busy": false
            },
            {
              "lng": -46.70396423339844,
              "lat": -23.605443954467773,
              "busy": false
            },
            {
              "lng": -46.66935729980469,
              "lat": -23.58431053161621,
              "busy": false
            },
            {
              "lng": -46.6534309387207,
              "lat": -23.597557067871094,
              "busy": false
            },
            {
              "lng": -46.67985534667969,
              "lat": -23.585262298583984,
              "busy": false
            },
            {
              "lng": -46.674644470214844,
              "lat": -23.60418701171875,
              "busy": false
            },
            {
              "lng": -46.59163284301758,
              "lat": -23.58729362487793,
              "busy": true
            },
            {
              "lng": -46.593971252441406,
              "lat": -23.626134872436523,
              "busy": true
            },
            {
              "lng": -46.534400939941406,
              "lat": -23.540103912353516,
              "busy": false
            },
            {
              "lng": -46.656410217285156,
              "lat": -23.602203369140625,
              "busy": false
            },
            {
              "lng": -46.60573959350586,
              "lat": -23.478647232055664,
              "busy": true
            },
            {
              "lng": -46.6556510925293,
              "lat": -23.57615852355957,
              "busy": false
            },
            {
              "lng": -46.654571533203125,
              "lat": -23.60920524597168,
              "busy": false
            },
            {
              "lng": -46.5667610168457,
              "lat": -23.531845092773438,
              "busy": true
            },
            {
              "lng": -46.558467864990234,
              "lat": -23.56260871887207,
              "busy": true
            },
            {
              "lng": -46.655487060546875,
              "lat": -23.57613754272461,
              "busy": false
            },
            {
              "lng": -46.63956832885742,
              "lat": -23.636499404907227,
              "busy": true
            },
            {
              "lng": -46.69537353515625,
              "lat": -23.573522567749023,
              "busy": false
            },
            {
              "lng": -46.69253921508789,
              "lat": -23.6049861907959,
              "busy": false
            },
            {
              "lng": -46.70045471191406,
              "lat": -23.522197723388672,
              "busy": false
            },
            {
              "lng": -46.675907135009766,
              "lat": -23.623016357421875,
              "busy": true
            },
            {
              "lng": -46.6204948425293,
              "lat": -23.562368392944336,
              "busy": false
            },
            {
              "lng": -46.69141387939453,
              "lat": -23.566795349121094,
              "busy": false
            },
            {
              "lng": -46.5675048828125,
              "lat": -23.60984992980957,
              "busy": false
            },
            {
              "lng": -46.65448760986328,
              "lat": -23.595348358154297,
              "busy": true
            },
            {
              "lng": -46.68244934082031,
              "lat": -23.59023094177246,
              "busy": false
            },
            {
              "lng": -46.706825256347656,
              "lat": -23.575237274169922,
              "busy": true
            },
            {
              "lng": -46.68874740600586,
              "lat": -23.55434226989746,
              "busy": true
            },
            {
              "lng": -46.66487121582031,
              "lat": -23.615081787109375,
              "busy": false
            },
            {
              "lng": -46.69591522216797,
              "lat": -23.613039016723633,
              "busy": false
            },
            {
              "lng": -46.71677780151367,
              "lat": -23.600767135620117,
              "busy": false
            },
            {
              "lng": -46.68836975097656,
              "lat": -23.569473266601562,
              "busy": false
            },
            {
              "lng": -46.64530944824219,
              "lat": -23.55788230895996,
              "busy": false
            },
            {
              "lng": -46.643795013427734,
              "lat": -23.595809936523438,
              "busy": false
            },
            {
              "lng": -46.58922576904297,
              "lat": -23.468088150024414,
              "busy": false
            },
            {
              "lng": -46.6056022644043,
              "lat": -23.470458984375,
              "busy": true
            },
            {
              "lng": -46.61129379272461,
              "lat": -23.529531478881836,
              "busy": false
            },
            {
              "lng": -46.540260314941406,
              "lat": -23.57954978942871,
              "busy": false
            },
            {
              "lng": -46.62700653076172,
              "lat": -23.615692138671875,
              "busy": true
            },
            {
              "lng": -46.5429573059082,
              "lat": -23.484973907470703,
              "busy": false
            },
            {
              "lng": -46.6318359375,
              "lat": -23.574487686157227,
              "busy": true
            },
            {
              "lng": -46.65122604370117,
              "lat": -23.488563537597656,
              "busy": false
            },
            {
              "lng": -46.6767692565918,
              "lat": -23.585506439208984,
              "busy": false
            },
            {
              "lng": -46.6783561706543,
              "lat": -23.590316772460938,
              "busy": false
            },
            {
              "lng": -46.70159912109375,
              "lat": -23.61140251159668,
              "busy": true
            },
            {
              "lng": -46.6522102355957,
              "lat": -23.524795532226562,
              "busy": true
            },
            {
              "lng": -46.647926330566406,
              "lat": -23.546308517456055,
              "busy": true
            },
            {
              "lng": -46.71705627441406,
              "lat": -23.653257369995117,
              "busy": true
            },
            {
              "lng": -46.57756042480469,
              "lat": -23.51386260986328,
              "busy": true
            },
            {
              "lng": -46.5213623046875,
              "lat": -23.535348892211914,
              "busy": true
            },
            {
              "lng": -46.69097137451172,
              "lat": -23.597440719604492,
              "busy": false
            },
            {
              "lng": -46.690914154052734,
              "lat": -23.56444549560547,
              "busy": false
            },
            {
              "lng": -46.62891387939453,
              "lat": -23.629003524780273,
              "busy": true
            },
            {
              "lng": -46.6464729309082,
              "lat": -23.543813705444336,
              "busy": true
            },
            {
              "lng": -46.70726013183594,
              "lat": -23.572803497314453,
              "busy": true
            },
            {
              "lng": -46.64113998413086,
              "lat": -23.60148048400879,
              "busy": true
            },
            {
              "lng": -46.574867248535156,
              "lat": -23.540395736694336,
              "busy": false
            },
            {
              "lng": -46.66960906982422,
              "lat": -23.611604690551758,
              "busy": true
            },
            {
              "lng": -46.67442321777344,
              "lat": -23.53706932067871,
              "busy": true
            }
          ]
        }
      }
    }
  ];
}
